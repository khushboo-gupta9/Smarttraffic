/* THEME TOKENS */
:root{
  --bg:#f4f7fa; --card:#fff; --text:#222; --muted:#6b7280; --brand:#283593;
  --border:#e2e6ea; --accent:#4cafef; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
  --shadow:0 6px 16px rgba(0,0,0,.08);
}

/* Dark theme */
html[data-theme="dark"]{
  --bg:#0f172a; --card:#111827; --text:#f8fafc; --muted:#94a3b8; --brand:#3b82f6;
  --border:#202938; --accent:#38bdf8; --ok:#22c55e; --warn:#fbbf24; --danger:#ef4444;
  --shadow:0 6px 18px rgba(0,0,0,.35);
}

*{ box-sizing:border-box; }
body{ margin:0; background:var(--bg); color:var(--text); font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* Sidebar */
.sidebar{
  position:fixed; inset:0 auto 0 0; width:230px; background:#111318; color:#fff; padding:18px 0;
  box-shadow:var(--shadow);
}
.sidebar .logo{ text-align:center; font-weight:700; margin:8px 0 18px; }
.sidebar ul{ list-style:none; padding:0; margin:0; }
.sidebar li a{
  display:block; padding:12px 20px; color:#cbd5e1; text-decoration:none; transition:.2s;
}
.sidebar li:hover a{ background:#1f2430; color:#fff; }
.sidebar li.active a{ background:#1f2430; color:#7dd3fc; border-left:4px solid #7dd3fc; }

/* Main */
.main{ margin-left:230px; padding:20px; }

/* Header */
.header{
  display:flex; justify-content:space-between; align-items:center;
  background:var(--brand); color:#fff; padding:12px 16px; border-radius:14px;
  box-shadow:var(--shadow);
}
.header-right{ display:flex; gap:10px; align-items:center; }
.time{ font-family:Orbitron, monospace; letter-spacing:1px; }
.weather-pill{ background:rgba(255,255,255,.18); padding:4px 10px; border-radius:999px; }
.icon-btn{
  border:none; background:rgba(255,255,255,.18); color:#fff; padding:6px 8px; border-radius:8px; cursor:pointer;
  transition:transform .15s ease, filter .15s ease;
}
.icon-btn:hover{ transform:translateY(-1px); filter:brightness(1.1); }

/* Traffic Light */
.traffic-container{ display:flex; align-items:center; gap:22px; justify-content:center; margin:22px 0 10px; flex-wrap:wrap; }
.direction-label{ width:100%; text-align:center; margin-bottom:6px; font-weight:600; color:var(--text); }
.traffic-light{
  background:#0b0b0b; padding:12px; border-radius:18px; display:flex; flex-direction:column; gap:12px; box-shadow:inset 0 0 0 1px #222;
}
.light{ width:46px; height:46px; border-radius:50%; background:#444; box-shadow:inset 0 0 12px rgba(0,0,0,.6); opacity:.35; transition:opacity .2s ease, transform .15s ease; }
.red.active{ background:#ff3b30; opacity:1; transform:scale(1.03); }
.yellow.active{ background:#ffd60a; opacity:1; transform:scale(1.03); }
.green.active{ background:#34c759; opacity:1; transform:scale(1.03); }
.signal-display{
  font-size:2rem; font-weight:700; background:#111; color:#59ff59; padding:10px 16px; border-radius:10px; min-width:96px; text-align:center;
  box-shadow:var(--shadow);
}

/* Controls */
.controls{ display:flex; gap:10px; justify-content:center; margin-bottom:8px; }
.mode-btn,.emergency-btn{
  border:none; padding:10px 16px; border-radius:12px; color:#fff; cursor:pointer; font-weight:700; transition:transform .15s ease, filter .15s ease;
  box-shadow:var(--shadow);
}
.mode-btn.auto{ background:var(--ok); } .mode-btn.manual{ background:#2563eb; }
.emergency-btn{ background:var(--danger); }
.mode-btn:hover,.emergency-btn:hover{ transform:translateY(-1px); filter:brightness(.95); }

/* Smart status pills */
.smart-row{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin:16px 0 6px; }
.smart-pill{
  background:var(--card); border:1px solid var(--border); border-radius:999px; padding:10px 14px; color:var(--text); font-size:.95rem;
  box-shadow:var(--shadow);
}

/* Cards */
.cards-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:18px; margin-top:12px; }
.card{
  background:var(--card); border:1px solid var(--border); border-radius:14px;
  padding:18px 20px; min-height:160px; box-shadow:var(--shadow);
  transition:border-color .2s, transform .2s ease;
}
.card:hover{ border-color:var(--accent); transform:translateY(-2px); }
.card h2{
  margin:0 0 12px; font-size:1.05rem; color:var(--brand); padding-bottom:8px; border-bottom:1px solid rgba(240,240,240,.25);
  font-weight:700;
}
.status-lights{ list-style:none; padding:0; margin:0; }
.alert-card ul{ list-style:none; padding:0; margin:0; max-height:170px; overflow:auto; }
.alert-card li{ padding:6px 0; border-bottom:1px solid rgba(240,240,240,.25); font-size:.95rem; }
.mini-map{ width:100%; height:160px; display:flex; align-items:center; justify-content:center; }
.road{ fill:#2b2b2b; }
.arrow{ fill:#9ca3af; filter:drop-shadow(0 2px 2px rgba(0,0,0,.3)); }
.active-arrow{ fill:#34c759; }

/* Utilities */
.badge{ padding:2px 8px; border-radius:999px; font-size:.8rem; }
.badge.ok{ background:#dcfce7; color:#166534; } .badge.warn{ background:#fef9c3; color:#854d0e; } .badge.danger{ background:#fee2e2; color:#7f1d1d; }
.muted{ color:var(--muted); }
.hidden{ display:none; }

    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logout-btn {
      background: #ff4d4d;
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      text-decoration: none;
    }
    .logout-btn:hover {
      background: #cc0000;
    }

